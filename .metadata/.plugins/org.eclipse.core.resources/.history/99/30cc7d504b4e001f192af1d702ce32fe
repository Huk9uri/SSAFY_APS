package SWEA_1954_달팽이숫자;

import java.util.Arrays;
import java.util.Scanner;

public class Solution {
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		int testCase = sc.nextInt();

		for (int i = 1; i <= testCase; i++) {
			int n = sc.nextInt();
			int[][] map = new int[n][n];

			int x = 0;
			int y = 0;
			int direction = 0;
			// 우 : 0 하 : 1 좌 : 2 상 : 3
			int[] dx = { 0, 1, 0, -1 };
			int[] dy = { 1, 0, -1, 0 };

			int nx = x + dx[direction];
			int ny = y + dy[direction];

			int num = 1;
			while (num <= n * n) {
				
				
				if (map[nx][ny] == 0 && nx>=0 && nx < n && ny>=0 && ny < n) {
					x = nx;
					y = ny;
					map[x][y] = num++;
				}
			}else {
				direction = (direction + 1) % 4;
				
			}

			System.out.println(Arrays.deepToString(map));

		}

	}
}